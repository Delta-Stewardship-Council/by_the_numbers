<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>By The Numbers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="quarto_doc_files/libs/clipboard/clipboard.min.js"></script>
<script src="quarto_doc_files/libs/quarto-html/quarto.js"></script>
<script src="quarto_doc_files/libs/quarto-html/popper.min.js"></script>
<script src="quarto_doc_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="quarto_doc_files/libs/quarto-html/anchor.min.js"></script>
<link href="quarto_doc_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="quarto_doc_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="quarto_doc_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="quarto_doc_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="quarto_doc_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="quarto_doc_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="quarto_doc_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="quarto_doc_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="quarto_doc_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">

<script src="quarto_doc_files/libs/leaflet-1.3.1/leaflet.js"></script>

<link href="quarto_doc_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">

<script src="quarto_doc_files/libs/proj4-2.6.2/proj4.min.js"></script>

<script src="quarto_doc_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>

<link href="quarto_doc_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">

<script src="quarto_doc_files/libs/leaflet-binding-2.2.2/leaflet.js"></script>



</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">By The Numbers</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Using poppler version 23.08.0</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter()         masks stats::filter()
✖ readr::guess_encoding() masks rvest::guess_encoding()
✖ dplyr::lag()            masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors

Attaching package: 'magrittr'


The following object is masked from 'package:purrr':

    set_names


The following object is masked from 'package:tidyr':

    extract</code></pre>
</div>
</div>
<section id="precipitation" class="level20">
<p class="heading">Precipitation</p>
<p>#Pulling and downloading the pdf from online for Northern Sierra precpipitation</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "                        Northern Sierra Precipitation: 8-Station Index, June 26, 2024\n100\n                      Mount Shasta City    Percent of Average for this Date: 90%\n                      Shasta Dam                                           2016-2017 Daily Precip (wettest)\n 95                   Mineral                                                                                                  94.7\n                      Quincy\n 90                   Brush Creek\n                                                                         1982-1983 Daily Precip (2nd wettest)                  88.5\n                      Sierraville RS\n 85                   Blue Canyon\n                      Pacific House\n 80\n\n 75\n\n 70\n                                                                                   2022 - 2023 Daily Precip                    66.6\n 65\n\n 60\n\n 55                                                                                           Average (1991-2020)              53.2\n                                                                                                    Current: 47.2\n 50\n\n 45\n                                                                                   2021 - 2022 Daily Precip                    43.0\n 40\n\n 35\n\n 30\n\n 25                                                                       2020-2021 Daily Precip (3rd driest)                  24.0\n 20                                                                                  1923-1924 (driest)                        19.0\n                                                                                                                               17.1\n 15\n                                                                                   1976-1977 (2nd driest)\n 10\n\n 5\n\n 0\n      Oct 1   Nov 1   Dec 1        Jan 1     Feb 1   Mar 1    Apr 1     May 1   Jun 1       Jul 1      Aug 1        Sep 1   Oct 1\n                                               Water Year (October 1 - September 30)\n"</code></pre>
</div>
</div>
<p>#Pulling the ‘current’ precipitation inches for Northern Sierra</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Current: Current: 47.2"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Current: 47.2"</code></pre>
</div>
</div>
<p>#Northern Sierra # Pulling out percent average for this date</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Percent of Average for this Date: Percent of Average for this Date: 90%"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Percent of Average for this Date: 90%"</code></pre>
</div>
</div>
<p>#Central Sierra precipitation #Pulling and downloading the pdf from online</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "                             San Joaquin Precipitation: 5-Station Index, June 26, 2024\n90\n                     Calaveras Big Trees                                                Percent of Average for this Date: 83%\n85                      Hetch Hetchy\n                        Yosemite Headquarters\n80                       North Fork RS\n                           Huntington Lake                                      1982-1983 (wettest)                         77.4\n75\n                                                                                                                            72.7\n70\n                                                                       2016-2017 Daily Precip (2nd wettest)\n65                                                                            2022 - 2023 Daily Precip                      64.5\n\n60\n\n55\n\n50\n\n45\n                                                                                           Average (1991-2020)              39.9\n40\n                                                                                                 Current: 32.7\n35\n\n30\n                                                                              2021 - 2022 Daily Precip\n25                                                                                                                          25.3\n\n20                                                                      2020-2021 Daily Precip (3rd driest)\n                                                                                                                            18.8\n15                                                                                                                          15.4\n                                                                                        1976-1977 (2nd driest)\n10\n\n5\n\n0\n     Oct 1   Nov 1     Dec 1       Jan 1     Feb 1   Mar 1    Apr 1     May 1   Jun 1    Jul 1      Aug 1        Sep 1   Oct 1\n                                               Water Year (October 1 - September 30)\n"</code></pre>
</div>
</div>
<p>#Central Sierra #PUlling out Percent average</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Percent of Average for this Date: Percent of Average for this Date: 83%"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Percent of Average for this Date: 83%"</code></pre>
</div>
</div>
</section>
<section id="central-sierra" class="level1">
<h1>Central Sierra</h1>
</section>
<section id="pulling-the-current-precipitation-inches-for-central-sierra" class="level1">
<h1>#Pulling the ‘current’ precipitation inches for Central Sierra</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Current: Current: 32.7"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Current: 32.7"</code></pre>
</div>
</div>
<section id="section" class="level84">
<p class="heading"></p>
</section>
<section id="snow-pack" class="level20">
<p class="heading">SNOW PACK</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "CURRENT REGIONAL SNOWPACK FROM AUTOMATED SNOW SENSORS\n\n% of April 1 Average / % of Normal for This Date\n\n\n                              Northern Sierra / Trinity                          NORTH\n         1% / 12%                                                        Data as of June 17, 2024\n                                                               Number of Stations Reporting         26\n                                                           Average snow water equivalent (Inches)   0.4\n                                                               Percent of April 1 Average (%)        1\n                                                             Percent of normal for this date (%)    12\n\n\n\n                               Central Sierra\n                  1% / 8%                                                      CENTRAL\n                                                                         Data as of June 17, 2024\n                                                               Number of Stations Reporting         49\n                                                           Average snow water equivalent (Inches)   0.1\n                                         Southern Sierra       Percent of April 1 Average (%)        1\n                            0% / 0%                          Percent of normal for this date (%)     8\n\n\n\n\n                                                                                 SOUTH\n                                                                         Data as of June 17, 2024\n                                                               Number of Stations Reporting         26\n                                                           Average snow water equivalent (Inches)   0.1\n                                                               Percent of April 1 Average (%)        0\n                                                             Percent of normal for this date (%)     0\n\n\n\n\n                                                                                 STATE\n                                                                         Data as of June 17, 2024\n                                                               Number of Stations Reporting         101\n                                                           Average snow water equivalent (Inches)   0.2\n                                                               Percent of April 1 Average (%)        1\n                                                             Percent of normal for this date (%)     9\n\n\n\n\n      Statewide Average: 1% / 9%\n\n\n\n\n                                                                                Data as of June 17, 2024\n"</code></pre>
</div>
</div>
<p>#North Snow average snow pack</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "NORTH 12% of percent avg. to date snow pack"</code></pre>
</div>
</div>
<p>#north snow water equivalent</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Northern Sierra Average snow water equivalent (Inches)   0.4"</code></pre>
</div>
</div>
<p>#Central % Snow average snow pack</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "CENTRAL SIERRA 8% of percent avg. to date snow pack"</code></pre>
</div>
</div>
<p>#Central snow water equivalent</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Central snow water equivalent 0.1"</code></pre>
</div>
</div>
</section>
</section>
<section id="state-wide-average-snow-pack-water-year" class="level1">
<h1>State wide average snow pack: water year</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0.2"</code></pre>
</div>
</div>
<p>#Percent of normal snow pack for this date (%)</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "9%"</code></pre>
</div>
</div>
<section id="reservoir-storage" class="level19">
<p class="heading">Reservoir Storage</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 74 × 12
   `Water Storage`      `Water Storage`  `Water Storage`  `Water Storage` 
   &lt;chr&gt;                &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           
 1 Reservoir Name       StaID            Capacity(AF)     Elevation(FT)   
 2 TRINITY RIVER        TRINITY RIVER    TRINITY RIVER    TRINITY RIVER   
 3 TRINITY LAKE         CLE              2,447,650        2,345.25        
 4 WHISKEYTOWN          WHI              241,100          1,209.21        
 5 LEWISTON             LEW              14,660           1,900.78        
 6 RUSSIAN RIVER        RUSSIAN RIVER    RUSSIAN RIVER    RUSSIAN RIVER   
 7 SONOMA(WARM SPRINGS) WRS              381,000          454.58          
 8 MENDOCINO (COYOTE)   COY              122,400          752.78          
 9 SACRAMENTO RIVER     SACRAMENTO RIVER SACRAMENTO RIVER SACRAMENTO RIVER
10 SHASTA               SHA              4,552,000        1,050.88        
# ℹ 64 more rows
# ℹ 8 more variables: `Water Storage` &lt;chr&gt;, `Water Storage` &lt;chr&gt;,
#   `Water Storage` &lt;chr&gt;, `Water Storage` &lt;chr&gt;, `Water Storage` &lt;chr&gt;,
#   `Water Storage` &lt;chr&gt;, `Water Storage` &lt;chr&gt;, `Water Storage` &lt;chr&gt;</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `Water Storage`
  &lt;chr&gt;          
1 114            </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `Water Storage`
  &lt;chr&gt;          
1 90             </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `Water Storage`
  &lt;chr&gt;          
1 126            </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `Water Storage`
  &lt;chr&gt;          
1 97             </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `Water Storage`
  &lt;chr&gt;          
1 91             </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `Water Storage`
  &lt;chr&gt;          
1 51             </code></pre>
</div>
</div>
</section>
<section id="flow-sacramento" class="level19">
<p class="heading">Flow Sacramento</p>
<p>#collapsed code chunk makes a bad map of sacramento sensors</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Assuming "longitude" and "latitude" are longitude and latitude, respectively</code></pre>
</div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-bb790faaa4297ff3efd3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bb790faaa4297ff3efd3">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[38.645,38.533,38.693054,38.357666,38.245,38.6416,38.586945,38.191267,38.17548,38.074097,38.686,38.084272,38.6883,38.555,38.237,38.441,38.349703,38.100655,38.683,38.65,38.307,38.478,38.687,38.63546,38.591,38.636,38.090109,38.9361,99.999,38.238,38.706,38.345,38.567,38.257,38.592,38.734,38.367981,38.65,38.5755,38.885096,38.2525,38.129533,38.45,38.652,38.5,38.2389,38.683,38.596,38.485279,38.421,38.456112,38.56871,38.588673,38.500187,38.602556,38.698306,38.583,38.1033,0,38.506943,38.684,38.683,38.687,38.861859,38.593,38.49852,38.697972,38.583,38.106,38.285,38.45,38.3286,38.241851,38.0969,38.239414],[-121.347,-121.767,-121.129723,-121.343735,-121.505,-121.3825,-121.405281,-121.637881,-121.656863,-121.761736,-121.587,-121.738924,-121.1667,-121.416,-121.518,-121.502,-121.533549,121.602684,-121.183,-121.183,-121.424,-121.458,-121.219333,-121.22773,-121.332,-121.224,-121.686771,-121.0228,-999.999,-121.517,-121.311,-121.546,-121.387,-121.518,-121.161,-121.301,-121.519958,-121.183,-121.4977,-121.05985,-121.6014,-121.582974,-121.5,-121.254,-121.044,-121.5234,-121.183,-121.413,-121.260834,-121.374,-121.5003,-121.423691,-121.504967,-121.045219,-121.312444,-121.308694,-121.5,-121.6861,0,-121.495003,-121.271,-121.183,-121.149,-121.220162,-121.368,-121.452728,-121.448778,-121.5,-121.7,-121.587,-121.5,-121.5772,-121.514771,-121.6691,-121.51672],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":5,"opacity":0.5,"fill":true,"fillColor":"#666666","fillOpacity":1},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[0,99.999],"lng":[-999.999,121.602684]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>#Do not need to run</p>
<p>#Create data set of exports from Sacramento and San Joaquin River at Vernalis #take Monthly average of those data sets</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 601 × 5
   agency_cd location_id datetime            parameter_cd parameter_value
   &lt;chr&gt;     &lt;chr&gt;       &lt;dttm&gt;              &lt;chr&gt;                  &lt;dbl&gt;
 1 CDEC      VNS         2024-06-01 00:00:00 20                      4605
 2 CDEC      VNS         2024-06-01 01:00:00 20                      4605
 3 CDEC      VNS         2024-06-01 02:00:00 20                      4605
 4 CDEC      VNS         2024-06-01 03:00:00 20                      4594
 5 CDEC      VNS         2024-06-01 04:00:00 20                      4605
 6 CDEC      VNS         2024-06-01 05:00:00 20                      4615
 7 CDEC      VNS         2024-06-01 06:00:00 20                      4615
 8 CDEC      VNS         2024-06-01 07:00:00 20                      4636
 9 CDEC      VNS         2024-06-01 08:00:00 20                      4646
10 CDEC      VNS         2024-06-01 09:00:00 20                      4646
# ℹ 591 more rows</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2822.047</code></pre>
</div>
</div>
<p>#Total Delta Exports: ‘total delta exports’, average of (CVP + SWP) #When run, will automatically update for current month</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "06/26/24\n                                                                                       U.S. Bureau of Reclamation - Central Valley Operations Office\n                                                                                                Delta Outflow Computation (values in c.f.s.)\n\nPreliminary Data - Subject to Change                                                                                 June 2024\nEstimated numbers are in bold Italic print\n                                                          DELTA INFLOW                                                                  DELTA EXPORTS                                   OUTFLOW INDEX          EXPORT/INFLOW\n              Sacto R                        Yolo +    East Side S. Joaquin River @ Vernalis    Total             Clifton            Contra Byron           Total     3-day\n   Date                                                                                                  NDCU\n             @Freeport SRTP                   Misc     Streams              7-day   Monthly     Delta             Court     Tracy    Costa Bethany NBA      Delta      Avg      NDOI        7-day    Monthly   Daily 3 Day 14 Day\n                prev dy     prev wk          prev dy    prev dy   prev dy    Avg      Avg       Inflow            (CLT)     (TRA)    (CCC) (BBID)          Exports TRA &amp; CLT    daily        Avg        Avg    (%)   (%)    (%)\n 06/01/24        16,754        180             578       1,905     4,514     4,662    4,551     23,931    3,000    1,695     3,117    143     68      59     4,946    4,303     15,985      19,120    16,538   20%   17%    14%\n 06/02/24        16,228        179             559       1,809     4,587     4,439    4,475     23,362    3,050    1,692     3,467    149     62      55     5,302    4,658     15,010      17,893    16,029   22%   19%    16%\n 06/03/24        16,389        177             575       1,773     4,323     4,328    4,411     23,237    3,100    1,691     3,467    166     53      55     5,327    5,043     14,810      16,983    15,724   22%   21%    17%\n 06/04/24        16,051        176             615       1,778     4,219     4,222    4,270     22,839    3,150    1,591     3,438    228     79      60     5,239    5,116     14,450      16,263    15,469   22%   22%    18%\n 06/05/24        16,498        174             687       1,802     3,708     4,107    4,116     22,869    3,200    1,496     3,499    212     84      60     5,184    5,061     14,486      15,669    15,305   21%   22%    19%\n 06/06/24        16,413        173             812       1,781     3,342     3,953    3,953     22,521    3,250    2,699     3,511    207     82      60     6,394    5,411     12,877      14,958    14,958   27%   23%    20%\n 06/07/24        16,280        171             843       1,623     2,980     3,693    3,796     21,897    3,300    2,497     3,536    196     78      72     6,222    5,746     12,375      14,285    14,635   27%   25%    22%\n 06/08/24        15,493        170             831       1,592     2,692     3,416    3,668     20,778    3,350    2,736     3,511    189     89      67     6,414    6,163     11,014      13,574    14,233   30%   28%    25%\n 06/09/24        15,363        170             840       1,515     2,651     3,173    3,564     20,539    3,400    1,790     4,194    192     81      58     6,154    6,088     10,985      12,999    13,908   29%   29%    25%\n 06/10/24        15,184        170             800       1,430     2,622     2,940    3,475     20,206    3,450    1,691     4,184    192     80      63     6,050    6,036     10,706      12,413    13,617   29%   29%    26%\n 06/11/24        15,050        170             791       1,401     2,586     2,732    3,373     19,998    3,500    1,691     4,207    194     89      59     6,062    5,919     10,436      11,840    13,352   29%   29%    26%\n 06/12/24        15,247        170             826       1,226     2,254     2,545    3,270     19,723    3,550    1,586     4,198    188     97      56     5,931    5,852     10,242      11,234    13,113   29%   29%    26%\n 06/13/24        15,339        170             828       1,049     2,031     2,435    3,194     19,417    3,600    1,294     4,201    194     63      64     5,690    5,726     10,127      10,841    12,900   28%   29%    26%\n 06/14/24        15,201        170             850        821      2,210     2,366    3,128     19,252    3,650    1,399     4,208    168     74      60     5,761    5,629     9,841       10,479    12,696   29%   29%    26%\n 06/15/24        15,985        170             844        724      2,206     2,300    3,070     19,929    3,700    1,387     4,200    171     58      56     5,756    5,563     10,473      10,401    12,557   28%   28%    26%\n 06/16/24        15,393        170             775        677      2,192     2,263    3,028     19,207    3,750    1,395     4,201    173     44      56     5,781    5,596     9,676       10,214    12,387   29%   28%    27%\n 06/17/24        14,742        170             718        661      2,364     2,247    2,997     18,655    3,800    1,398     4,287    177     49      59     5,872    5,622     8,983       9,968     12,198   30%   29%    27%\n 06/18/24        15,410        170             723        665      2,471     2,245    2,958     19,439    3,850     797      2,705    173     83      59     3,651    4,927     11,938      10,183    12,184   18%   25%    24%\n 06/19/24        15,188        170             707        659      2,242     2,269    2,920     18,966    3,900    1,492     2,713    170     86      58     4,348    4,464     10,718      10,251    12,111   22%   23%    22%\n 06/20/24        14,924        170             709        654      2,198     2,313    2,900     18,655    3,950    3,496     2,699    176     86      64     6,349    4,634     8,356       9,998     11,932   33%   24%    23%\n 06/21/24        14,711        170             776        670      2,517     2,382    2,891     18,844    4,000    2,389     4,236    183     81      78     6,805    5,675     8,039       9,740     11,755   35%   30%    29%\n 06/22/24        14,220        170             792        691      2,688     2,458    2,884     18,561    4,050    2,190     4,223    177     81      70     6,579    6,411     7,932       9,377     11,589   34%   34%    33%\n 06/23/24        14,040        170             726        697      2,726     2,535    2,884     18,359    4,100    1,887     4,213    177     72      64     6,269    6,379     7,990       9,137     11,439   33%   34%    33%\n 06/24/24        14,353        170             708        676      2,901     2,612    2,889     18,808    4,100    1,487     4,219    174     64      66     5,883    6,073     8,825       9,114     11,335   30%   32%    31%\n 06/25/24        14,904        170             734        664      3,013     2,697    2,887     19,485    4,150    2,494     4,286    193     91      73     6,955    6,196     8,380       8,606     11,221   34%   32%    32%\n 06/26/24        14,837        170             790        670      2,833                        19,300\n 06/27/24\n 06/28/24\n 06/29/24\n 06/30/24\n     -           17,586        180             587       1,840     4,054                        24,247\n\n    Total      417,783       4,640           20,024    31,453     79,124    75,333   85,552    553,024   89,900   45,960    94,720   4,564   1,872   1,552 144,924   138,292   274,653     305,540   333,187    -     -      -\n Average        15,473        172             742      1,165       2,931     3,013    3,422     20,482   3,596     1,838     3,789    183      75      62   5,797     5,532     10,986      12,222    13,327   28%   27%    24%\n\n\n\n\n                                                                                PRELIMINARY\n                                                                                                                                                                                                     6/26/2024 7:11 AM\n"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>06/26/24
                                                                                       U.S. Bureau of Reclamation - Central Valley Operations Office
                                                                                                Delta Outflow Computation (values in c.f.s.)

Preliminary Data - Subject to Change                                                                                 June 2024
Estimated numbers are in bold Italic print
                                                          DELTA INFLOW                                                                  DELTA EXPORTS                                   OUTFLOW INDEX          EXPORT/INFLOW
              Sacto R                        Yolo +    East Side S. Joaquin River @ Vernalis    Total             Clifton            Contra Byron           Total     3-day
   Date                                                                                                  NDCU
             @Freeport SRTP                   Misc     Streams              7-day   Monthly     Delta             Court     Tracy    Costa Bethany NBA      Delta      Avg      NDOI        7-day    Monthly   Daily 3 Day 14 Day
                prev dy     prev wk          prev dy    prev dy   prev dy    Avg      Avg       Inflow            (CLT)     (TRA)    (CCC) (BBID)          Exports TRA &amp; CLT    daily        Avg        Avg    (%)   (%)    (%)
 06/01/24        16,754        180             578       1,905     4,514     4,662    4,551     23,931    3,000    1,695     3,117    143     68      59     4,946    4,303     15,985      19,120    16,538   20%   17%    14%
 06/02/24        16,228        179             559       1,809     4,587     4,439    4,475     23,362    3,050    1,692     3,467    149     62      55     5,302    4,658     15,010      17,893    16,029   22%   19%    16%
 06/03/24        16,389        177             575       1,773     4,323     4,328    4,411     23,237    3,100    1,691     3,467    166     53      55     5,327    5,043     14,810      16,983    15,724   22%   21%    17%
 06/04/24        16,051        176             615       1,778     4,219     4,222    4,270     22,839    3,150    1,591     3,438    228     79      60     5,239    5,116     14,450      16,263    15,469   22%   22%    18%
 06/05/24        16,498        174             687       1,802     3,708     4,107    4,116     22,869    3,200    1,496     3,499    212     84      60     5,184    5,061     14,486      15,669    15,305   21%   22%    19%
 06/06/24        16,413        173             812       1,781     3,342     3,953    3,953     22,521    3,250    2,699     3,511    207     82      60     6,394    5,411     12,877      14,958    14,958   27%   23%    20%
 06/07/24        16,280        171             843       1,623     2,980     3,693    3,796     21,897    3,300    2,497     3,536    196     78      72     6,222    5,746     12,375      14,285    14,635   27%   25%    22%
 06/08/24        15,493        170             831       1,592     2,692     3,416    3,668     20,778    3,350    2,736     3,511    189     89      67     6,414    6,163     11,014      13,574    14,233   30%   28%    25%
 06/09/24        15,363        170             840       1,515     2,651     3,173    3,564     20,539    3,400    1,790     4,194    192     81      58     6,154    6,088     10,985      12,999    13,908   29%   29%    25%
 06/10/24        15,184        170             800       1,430     2,622     2,940    3,475     20,206    3,450    1,691     4,184    192     80      63     6,050    6,036     10,706      12,413    13,617   29%   29%    26%
 06/11/24        15,050        170             791       1,401     2,586     2,732    3,373     19,998    3,500    1,691     4,207    194     89      59     6,062    5,919     10,436      11,840    13,352   29%   29%    26%
 06/12/24        15,247        170             826       1,226     2,254     2,545    3,270     19,723    3,550    1,586     4,198    188     97      56     5,931    5,852     10,242      11,234    13,113   29%   29%    26%
 06/13/24        15,339        170             828       1,049     2,031     2,435    3,194     19,417    3,600    1,294     4,201    194     63      64     5,690    5,726     10,127      10,841    12,900   28%   29%    26%
 06/14/24        15,201        170             850        821      2,210     2,366    3,128     19,252    3,650    1,399     4,208    168     74      60     5,761    5,629     9,841       10,479    12,696   29%   29%    26%
 06/15/24        15,985        170             844        724      2,206     2,300    3,070     19,929    3,700    1,387     4,200    171     58      56     5,756    5,563     10,473      10,401    12,557   28%   28%    26%
 06/16/24        15,393        170             775        677      2,192     2,263    3,028     19,207    3,750    1,395     4,201    173     44      56     5,781    5,596     9,676       10,214    12,387   29%   28%    27%
 06/17/24        14,742        170             718        661      2,364     2,247    2,997     18,655    3,800    1,398     4,287    177     49      59     5,872    5,622     8,983       9,968     12,198   30%   29%    27%
 06/18/24        15,410        170             723        665      2,471     2,245    2,958     19,439    3,850     797      2,705    173     83      59     3,651    4,927     11,938      10,183    12,184   18%   25%    24%
 06/19/24        15,188        170             707        659      2,242     2,269    2,920     18,966    3,900    1,492     2,713    170     86      58     4,348    4,464     10,718      10,251    12,111   22%   23%    22%
 06/20/24        14,924        170             709        654      2,198     2,313    2,900     18,655    3,950    3,496     2,699    176     86      64     6,349    4,634     8,356       9,998     11,932   33%   24%    23%
 06/21/24        14,711        170             776        670      2,517     2,382    2,891     18,844    4,000    2,389     4,236    183     81      78     6,805    5,675     8,039       9,740     11,755   35%   30%    29%
 06/22/24        14,220        170             792        691      2,688     2,458    2,884     18,561    4,050    2,190     4,223    177     81      70     6,579    6,411     7,932       9,377     11,589   34%   34%    33%
 06/23/24        14,040        170             726        697      2,726     2,535    2,884     18,359    4,100    1,887     4,213    177     72      64     6,269    6,379     7,990       9,137     11,439   33%   34%    33%
 06/24/24        14,353        170             708        676      2,901     2,612    2,889     18,808    4,100    1,487     4,219    174     64      66     5,883    6,073     8,825       9,114     11,335   30%   32%    31%
 06/25/24        14,904        170             734        664      3,013     2,697    2,887     19,485    4,150    2,494     4,286    193     91      73     6,955    6,196     8,380       8,606     11,221   34%   32%    32%
 06/26/24        14,837        170             790        670      2,833                        19,300
 06/27/24
 06/28/24
 06/29/24
 06/30/24
     -           17,586        180             587       1,840     4,054                        24,247

    Total      417,783       4,640           20,024    31,453     79,124    75,333   85,552    553,024   89,900   45,960    94,720   4,564   1,872   1,552 144,924   138,292   274,653     305,540   333,187    -     -      -
 Average        15,473        172             742      1,165       2,931     3,013    3,422     20,482   3,596     1,838     3,789    183      75      62   5,797     5,532     10,986      12,222    13,327   28%   27%    24%

                                                                                PRELIMINARY
                                                                                                                                                                                                     6/26/2024 7:11 AM</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>            X1        X2      X3      X4      X5     X6      X7     X8     X9
1     06/26/24      &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
2  Preliminary      Data       - Subject      to Change    June   2024   &lt;NA&gt;
3              @Freeport    SRTP    Misc Streams  7-day Monthly  Delta  Court
4               06/01/24  16,754     180     578  1,905   4,514  4,662  4,551
5               06/02/24  16,228     179     559  1,809   4,587  4,439  4,475
6               06/03/24  16,389     177     575  1,773   4,323  4,328  4,411
7               06/04/24  16,051     176     615  1,778   4,219  4,222  4,270
8               06/05/24  16,498     174     687  1,802   3,708  4,107  4,116
9               06/06/24  16,413     173     812  1,781   3,342  3,953  3,953
10              06/07/24  16,280     171     843  1,623   2,980  3,693  3,796
11              06/08/24  15,493     170     831  1,592   2,692  3,416  3,668
12              06/09/24  15,363     170     840  1,515   2,651  3,173  3,564
13              06/10/24  15,184     170     800  1,430   2,622  2,940  3,475
14              06/11/24  15,050     170     791  1,401   2,586  2,732  3,373
15              06/12/24  15,247     170     826  1,226   2,254  2,545  3,270
16              06/13/24  15,339     170     828  1,049   2,031  2,435  3,194
17              06/14/24  15,201     170     850    821   2,210  2,366  3,128
18              06/15/24  15,985     170     844    724   2,206  2,300  3,070
19              06/16/24  15,393     170     775    677   2,192  2,263  3,028
20              06/17/24  14,742     170     718    661   2,364  2,247  2,997
21              06/18/24  15,410     170     723    665   2,471  2,245  2,958
22              06/19/24  15,188     170     707    659   2,242  2,269  2,920
23              06/20/24  14,924     170     709    654   2,198  2,313  2,900
24              06/21/24  14,711     170     776    670   2,517  2,382  2,891
25              06/22/24  14,220     170     792    691   2,688  2,458  2,884
26              06/23/24  14,040     170     726    697   2,726  2,535  2,884
27              06/24/24  14,353     170     708    676   2,901  2,612  2,889
28              06/25/24  14,904     170     734    664   3,013  2,697  2,887
29              06/26/24  14,837     170     790    670   2,833 19,300   &lt;NA&gt;
30              06/27/24    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
31              06/28/24    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
32              06/29/24    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
33              06/30/24    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
34                     -  17,586     180     587  1,840   4,054 24,247   &lt;NA&gt;
35                 Total 417,783   4,640  20,024 31,453  79,124 75,333 85,552
36               Average  15,473     172     742  1,165   2,931  3,013  3,422
37             6/26/2024    7:11      AM    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
       X10    X11     X12    X13   X14   X15   X16     X17     X18     X19
1     &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
2     &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
3    Tracy  Costa Bethany    NBA Delta   Avg  NDOI   7-day Monthly   Daily
4   23,931  3,000   1,695  3,117   143    68    59   4,946   4,303  15,985
5   23,362  3,050   1,692  3,467   149    62    55   5,302   4,658  15,010
6   23,237  3,100   1,691  3,467   166    53    55   5,327   5,043  14,810
7   22,839  3,150   1,591  3,438   228    79    60   5,239   5,116  14,450
8   22,869  3,200   1,496  3,499   212    84    60   5,184   5,061  14,486
9   22,521  3,250   2,699  3,511   207    82    60   6,394   5,411  12,877
10  21,897  3,300   2,497  3,536   196    78    72   6,222   5,746  12,375
11  20,778  3,350   2,736  3,511   189    89    67   6,414   6,163  11,014
12  20,539  3,400   1,790  4,194   192    81    58   6,154   6,088  10,985
13  20,206  3,450   1,691  4,184   192    80    63   6,050   6,036  10,706
14  19,998  3,500   1,691  4,207   194    89    59   6,062   5,919  10,436
15  19,723  3,550   1,586  4,198   188    97    56   5,931   5,852  10,242
16  19,417  3,600   1,294  4,201   194    63    64   5,690   5,726  10,127
17  19,252  3,650   1,399  4,208   168    74    60   5,761   5,629   9,841
18  19,929  3,700   1,387  4,200   171    58    56   5,756   5,563  10,473
19  19,207  3,750   1,395  4,201   173    44    56   5,781   5,596   9,676
20  18,655  3,800   1,398  4,287   177    49    59   5,872   5,622   8,983
21  19,439  3,850     797  2,705   173    83    59   3,651   4,927  11,938
22  18,966  3,900   1,492  2,713   170    86    58   4,348   4,464  10,718
23  18,655  3,950   3,496  2,699   176    86    64   6,349   4,634   8,356
24  18,844  4,000   2,389  4,236   183    81    78   6,805   5,675   8,039
25  18,561  4,050   2,190  4,223   177    81    70   6,579   6,411   7,932
26  18,359  4,100   1,887  4,213   177    72    64   6,269   6,379   7,990
27  18,808  4,100   1,487  4,219   174    64    66   5,883   6,073   8,825
28  19,485  4,150   2,494  4,286   193    91    73   6,955   6,196   8,380
29    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
30    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
31    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
32    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
33    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
34    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
35 553,024 89,900  45,960 94,720 4,564 1,872 1,552 144,924 138,292 274,653
36  20,482  3,596   1,838  3,789   183    75    62   5,797   5,532  10,986
37    &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;
       X20     X21  X22  X23  X24
1     &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
2     &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
3        3     Day   14  Day &lt;NA&gt;
4   19,120  16,538  20%  17%  14%
5   17,893  16,029  22%  19%  16%
6   16,983  15,724  22%  21%  17%
7   16,263  15,469  22%  22%  18%
8   15,669  15,305  21%  22%  19%
9   14,958  14,958  27%  23%  20%
10  14,285  14,635  27%  25%  22%
11  13,574  14,233  30%  28%  25%
12  12,999  13,908  29%  29%  25%
13  12,413  13,617  29%  29%  26%
14  11,840  13,352  29%  29%  26%
15  11,234  13,113  29%  29%  26%
16  10,841  12,900  28%  29%  26%
17  10,479  12,696  29%  29%  26%
18  10,401  12,557  28%  28%  26%
19  10,214  12,387  29%  28%  27%
20   9,968  12,198  30%  29%  27%
21  10,183  12,184  18%  25%  24%
22  10,251  12,111  22%  23%  22%
23   9,998  11,932  33%  24%  23%
24   9,740  11,755  35%  30%  29%
25   9,377  11,589  34%  34%  33%
26   9,137  11,439  33%  34%  33%
27   9,114  11,335  30%  32%  31%
28   8,606  11,221  34%  32%  32%
29    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
30    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
31    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
32    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
33    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
34    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
35 305,540 333,187    -    -    -
36  12,222  13,327  28%  27%  24%
37    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "5,797"</code></pre>
</div>
</div>
<p>##*** figure out way to add data from this year to historical after year ends #somethign that updates only on specific dates #Need to create a output csv file for historical data</p>
<section id="salinity" class="level34">
<p class="heading">Salinity</p>
<p>#Sacramento River at Hood (station code SRH) #When run, will automatically update for current month</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 126.9565</code></pre>
</div>
</div>
<p>#San Joaquin River at Vernalis (station code - VER) #When run, will automatically update for current month</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 287.12</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 157.916</code></pre>
</div>
</div>
<p>#Salinity at Banks pumping plant (station code - HBP) #When run, will automatically update for current month</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 216.64</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 119.152</code></pre>
</div>
</div>
</section>
<section id="temperature" class="level23">
<p class="heading">TEMPERATURE</p>
<p>#need to add hisotrical average data in –&gt; will add to csv file eventually</p>
<p>#Water Temp - Sacramento river headwaters at Clear Creek</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 56.3208</code></pre>
</div>
</div>
<p>#Water Temp - Sacramento/San Joaquin Rivers confluence at Collinsville</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 70.39404</code></pre>
</div>
</div>
<p>#Water Temp - South Delta (near HBP) at Clifton Court Forebay</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 6
   sensor_number sensor_name         sensor_units duration start      end       
           &lt;int&gt; &lt;chr&gt;               &lt;chr&gt;        &lt;chr&gt;    &lt;date&gt;     &lt;date&gt;    
 1             6 reservoir elevation feet         daily    2021-07-01 2024-06-26
 2            10 wind direction      deg          hourly   2009-10-20 2024-06-26
 3            15 reservoir storage   af           daily    2021-07-01 2024-06-26
 4            25 temperature water   deg f        daily    1988-03-04 2009-10-19
 5            27 water turbidity     ntu          daily    1988-03-10 2024-06-26
 6            27 water turbidity     ntu          hourly   1988-03-10 2024-06-26
 7            62 water ph value      ph           daily    1992-09-03 2024-06-26
 8            62 water ph value      ph           hourly   1992-09-03 2024-06-26
 9            76 reservoir inflow    cfs          daily    2008-02-01 2024-06-26
10           100 electrical conduct… us/cm        daily    1987-01-01 2024-06-26
11           100 electrical conduct… us/cm        hourly   2000-11-30 2024-06-26
12           114 fluoresces n rhoda… fluoro       daily    1988-03-07 2024-06-26
13           114 fluoresces n rhoda… fluoro       hourly   2000-11-30 2024-06-26
14           134 wind speed avg      mph          daily    2009-10-20 2024-06-26
15           134 wind speed avg      mph          hourly   2009-10-20 2024-06-26
16           146 temperature water c deg c        daily    2009-09-15 2024-06-26
17           146 temperature water c deg c        hourly   2009-09-15 2024-06-26
18           273 inflow volume       af           daily    2019-10-01 2024-06-26</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 75.14489</code></pre>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>